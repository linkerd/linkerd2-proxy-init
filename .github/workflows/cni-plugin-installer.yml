name: cni-plugin-installer

on:
  workflow_dispatch:
  pull_request:
    paths:
      - cni-plugin/deployment/scripts/**

jobs:
  run-tests:
    timeout-minutes: 15
    runs-on: ubuntu-20.04
    steps:
      - uses: linkerd/dev/actions/setup-tools@v39
      - uses: actions/checkout@93ea575cb5d8a053eaa0ac8fa3b40d7e05a33cc8
      - uses: extractions/setup-just@95b912dc5d3ed106a72907f2f9b91e76d60bdb76
      - uses: docker/setup-buildx-action@15c905b16b06416d2086efa066dd8e3a35cc7f98
      - run: just cni-plugin-installer-integration-run
